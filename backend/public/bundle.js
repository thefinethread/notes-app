/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={741:(t,e,n)=>{var i,o;!function(r,s){"use strict";void 0===(o="function"==typeof(i=s)?i.call(e,n,e,t):i)||(t.exports=o)}(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(e,n){return e[t](n)}}))},158:function(t,e,n){var i,o;"undefined"!=typeof window&&window,void 0===(o="function"==typeof(i=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(t,r),delete i[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?i.call(e,n,e,t):i)||(t.exports=o)},47:(t,e,n)=>{var i,o;!function(r,s){i=[n(741)],o=function(t){return function(t,e){"use strict";var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},i=Array.prototype.slice;n.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?i.call(t):[t]},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var o=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(i){e(t,i)&&o.push(t);for(var n=t.querySelectorAll(i),r=0;r<n.length;r++)o.push(n[r])}else o.push(t)})),o},n.debounceMethod=function(t,e,n){n=n||100;var i=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout((function(){i.apply(r,e),delete r[o]}),n)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,n){return e+"-"+n})).toLowerCase()};var o=t.console;return n.htmlInit=function(e,i){n.docReady((function(){var r=n.toDashed(i),s="data-"+r,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+r),c=n.makeArray(a).concat(n.makeArray(l)),d=s+"-options",u=t.jQuery;c.forEach((function(t){var n,r=t.getAttribute(s)||t.getAttribute(d);try{n=r&&JSON.parse(r)}catch(e){return void(o&&o.error("Error parsing "+s+" on "+t.className+": "+e))}var a=new e(t,n);u&&u.data(t,i,a)}))}))},n}(r,t)}.apply(e,i),void 0===o||(t.exports=o)}(window)},131:(t,e,n)=>{var i,o;window,void 0===(o="function"==typeof(i=function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=n.length;function o(t){var n=getComputedStyle(t);return n||e("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var r,s=!1;function a(e){if(function(){if(!s){s=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var i=o(e);r=200==Math.round(t(i.width)),a.isBoxSizeOuter=r,n.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var l=o(e);if("none"==l.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<i;e++)t[n[e]]=0;return t}();var c={};c.width=e.offsetWidth,c.height=e.offsetHeight;for(var d=c.isBorderBox="border-box"==l.boxSizing,u=0;u<i;u++){var h=n[u],p=l[h],f=parseFloat(p);c[h]=isNaN(f)?0:f}var m=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,y=c.marginLeft+c.marginRight,v=c.marginTop+c.marginBottom,b=c.borderLeftWidth+c.borderRightWidth,E=c.borderTopWidth+c.borderBottomWidth,w=d&&r,S=t(l.width);!1!==S&&(c.width=S+(w?0:m+b));var L=t(l.height);return!1!==L&&(c.height=L+(w?0:g+E)),c.innerWidth=c.width-(m+b),c.innerHeight=c.height-(g+E),c.outerWidth=c.width+y,c.outerHeight=c.height+v,c}}return a})?i.call(e,n,e,t):i)||(t.exports=o)},751:(t,e,n)=>{var i,o,r;window,o=[n(794),n(131)],void 0===(r="function"==typeof(i=function(t,e){"use strict";var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/i,s=i-o%i;r=Math[s&&s<1?"round":"floor"](r),this.cols=Math.max(r,1)},i.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),o={x:this.columnWidth*i.col,y:i.y},r=i.y+t.size.outerHeight,s=n+i.col,a=i.col;a<s;a++)this.colYs[a]=r;return o},i._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},i._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;i<n;i++)e[i]=this._getColGroupY(i,t);return e},i._getColGroupY=function(t,e){if(e<2)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;n=t>1&&n+t>this.cols?0:n;var i=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=i?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},i._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this._getOption("originLeft")?i.left:i.right,r=o+n.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,c=s;c<=a;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n})?i.apply(e,o):i)||(t.exports=r)},652:(t,e,n)=>{var i,o,r;window,o=[n(158),n(131)],void 0===(r="function"==typeof(i=function(t,e){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",o="string"==typeof n.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],s={transform:o,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=a.prototype=Object.create(t.prototype);l.constructor=a,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.getSize=function(){this.size=e(this.element)},l.css=function(t){var e=this.element.style;for(var n in t)e[s[n]||n]=t[n]},l.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],o=t[n?"top":"bottom"],r=parseFloat(i),s=parseFloat(o),a=this.layout.size;-1!=i.indexOf("%")&&(r=r/100*a.width),-1!=o.indexOf("%")&&(s=s/100*a.height),r=isNaN(r)?0:r,s=isNaN(s)?0:s,r-=e?a.paddingLeft:a.paddingRight,s-=n?a.paddingTop:a.paddingBottom,this.position.x=r,this.position.y=s},l.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",r=n?"left":"right",s=n?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var l=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",d=i?"bottom":"top",u=this.position.y+t[l];e[c]=this.getYValue(u),e[d]="",this.css(e),this.emitEvent("layout",[this])},l.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},l.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},l._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!o||this.isTransitioning){var r=t-n,s=e-i,a={};a.transform=this.getTranslate(r,s),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},l.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},l._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},l.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var c="opacity,"+o.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}));l.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:c,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},l.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},l.onotransitionend=function(t){this.ontransitionend(t)};var d={"-webkit-transform":"transform"};l.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=d[t.propertyName]||t.propertyName;delete e.ingProperties[n],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd&&(e.onEnd[n].call(this),delete e.onEnd[n]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},l._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var u={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(u)},l.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a})?i.apply(e,o):i)||(t.exports=r)},794:(t,e,n)=>{var i,o;!function(r,s){"use strict";i=[n(158),n(131),n(47),n(652)],o=function(t,e,n,i){return function(t,e,n,i,o){var r=t.console,s=t.jQuery,a=function(){},l=0,c={};function d(t,e){var n=i.getQueryElement(t);if(n){this.element=n,s&&(this.$element=s(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var o=++l;this.element.outlayerGUID=o,c[o]=this,this._create(),this._getOption("initLayout")&&this.layout()}else r&&r.error("Bad element for "+this.constructor.namespace+": "+(n||t))}d.namespace="outlayer",d.Item=o,d.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var u=d.prototype;function h(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}i.extend(u,e.prototype),u.option=function(t){i.extend(this.options,t)},u._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},d.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},u._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},u.reloadItems=function(){this.items=this._itemize(this.element.children)},u._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0;o<e.length;o++){var r=new n(e[o],this);i.push(r)}return i},u._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},u.getItemElements=function(){return this.items.map((function(t){return t.element}))},u.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},u._init=u.layout,u._resetLayout=function(){this.getSize()},u.getSize=function(){this.size=n(this.element)},u._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):o instanceof HTMLElement&&(i=o),this[t]=i?n(i)[e]:o):this[t]=0},u.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},u._getItemsForLayout=function(t){return t.filter((function(t){return!t.isIgnored}))},u._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach((function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)}),this),this._processLayoutQueue(n)}},u._getItemLayoutPosition=function(){return{x:0,y:0}},u._processLayoutQueue=function(t){this.updateStagger(),t.forEach((function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)}),this)},u.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];return n.length?(n=parseFloat(n))*(p[i]||1):0}(t),this.stagger;this.stagger=0},u._positionItem=function(t,e,n,i,o){i?t.goTo(e,n):(t.stagger(o*this.stagger),t.moveTo(e,n))},u._postLayout=function(){this.resizeContainer()},u.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},u._getContainerSize=a,u._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},u._emitCompleteOnItems=function(t,e){var n=this;function i(){n.dispatchEvent(t+"Complete",null,[e])}var o=e.length;if(e&&o){var r=0;e.forEach((function(e){e.once(t,s)}))}else i();function s(){++r==o&&i()}},u.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),s)if(this.$element=this.$element||s(this.element),e){var o=s.Event(e);o.type=t,this.$element.trigger(o,n)}else this.$element.trigger(t,n)},u.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},u.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},u.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},u.unstamp=function(t){(t=this._find(t))&&t.forEach((function(t){i.removeFrom(this.stamps,t),this.unignore(t)}),this)},u._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),i.makeArray(t)},u._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},u._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},u._manageStamp=a,u._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=n(t);return{left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom}},u.handleEvent=i.handleEvent,u.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},u.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},u.onresize=function(){this.resize()},i.debounceMethod(d,"onresize",100),u.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},u.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},u.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},u.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},u.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},u.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,n){t.stagger(n*e),t.reveal()}))}},u.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach((function(t,n){t.stagger(n*e),t.hide()}))}},u.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},u.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},u.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},u.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach((function(t){var n=this.getItem(t);n&&e.push(n)}),this),e},u.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach((function(t){t.remove(),i.removeFrom(this.items,t)}),this)},u.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach((function(t){t.destroy()})),this.unbindResize();var e=this.element.outlayerGUID;delete c[e],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},d.data=function(t){var e=(t=i.getQueryElement(t))&&t.outlayerGUID;return e&&c[e]},d.create=function(t,e){var n=h(d);return n.defaults=i.extend({},d.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},d.compatOptions),n.namespace=t,n.data=d.data,n.Item=h(o),i.htmlInit(n,t),s&&s.bridget&&s.bridget(t,n),n};var p={ms:1,s:1e3};return d.Item=o,d}(r,t,e,n,i)}.apply(e,i),void 0===o||(t.exports=o)}(window)}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var o=i.length-1;o>-1&&!t;)t=i[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{"use strict";function t(t,e){return function(){return t.apply(e,arguments)}}const{toString:e}=Object.prototype,{getPrototypeOf:i}=Object,o=(r=Object.create(null),t=>{const n=e.call(t);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())});var r;const s=t=>(t=t.toLowerCase(),e=>o(e)===t),a=t=>e=>typeof e===t,{isArray:l}=Array,c=a("undefined"),d=s("ArrayBuffer"),u=a("string"),h=a("function"),p=a("number"),f=t=>null!==t&&"object"==typeof t,m=t=>{if("object"!==o(t))return!1;const e=i(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},g=s("Date"),y=s("File"),v=s("Blob"),b=s("FileList"),E=s("URLSearchParams");function w(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let i,o;if("object"!=typeof t&&(t=[t]),l(t))for(i=0,o=t.length;i<o;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),r=o.length;let s;for(i=0;i<r;i++)s=o[i],e.call(null,t[s],s,t)}}function S(t,e){e=e.toLowerCase();const n=Object.keys(t);let i,o=n.length;for(;o-- >0;)if(i=n[o],e===i.toLowerCase())return i;return null}const L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,O=t=>!c(t)&&t!==L,x=(T="undefined"!=typeof Uint8Array&&i(Uint8Array),t=>T&&t instanceof T);var T;const A=s("HTMLFormElement"),C=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_=s("RegExp"),N=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};w(n,((n,o)=>{!1!==e(n,o,t)&&(i[o]=n)})),Object.defineProperties(t,i)},R="abcdefghijklmnopqrstuvwxyz",I="0123456789",P={DIGIT:I,ALPHA:R,ALPHA_DIGIT:R+R.toUpperCase()+I},k=s("AsyncFunction"),B={isArray:l,isArrayBuffer:d,isBuffer:function(t){return null!==t&&!c(t)&&null!==t.constructor&&!c(t.constructor)&&h(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||h(t.append)&&("formdata"===(e=o(t))||"object"===e&&h(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer),e},isString:u,isNumber:p,isBoolean:t=>!0===t||!1===t,isObject:f,isPlainObject:m,isUndefined:c,isDate:g,isFile:y,isBlob:v,isRegExp:_,isFunction:h,isStream:t=>f(t)&&h(t.pipe),isURLSearchParams:E,isTypedArray:x,isFileList:b,forEach:w,merge:function t(){const{caseless:e}=O(this)&&this||{},n={},i=(i,o)=>{const r=e&&S(n,o)||o;m(n[r])&&m(i)?n[r]=t(n[r],i):m(i)?n[r]=t({},i):l(i)?n[r]=i.slice():n[r]=i};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&w(arguments[t],i);return n},extend:(e,n,i,{allOwnKeys:o}={})=>(w(n,((n,o)=>{i&&h(n)?e[o]=t(n,i):e[o]=n}),{allOwnKeys:o}),e),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,o)=>{let r,s,a;const l={};if(e=e||{},null==t)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)a=r[s],o&&!o(a,t,e)||l[a]||(e[a]=t[a],l[a]=!0);t=!1!==n&&i(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:o,kindOfTest:s,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(l(t))return t;let e=t.length;if(!p(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:A,hasOwnProperty:C,hasOwnProp:C,reduceDescriptors:N,freezeMethods:t=>{N(t,((e,n)=>{if(h(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];h(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach((t=>{n[t]=!0}))};return l(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:S,global:L,isContextDefined:O,ALPHABET:P,generateString:(t=16,e=P.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&h(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(f(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[i]=t;const o=l(t)?[]:{};return w(t,((t,e)=>{const r=n(t,i+1);!c(r)&&(o[e]=r)})),e[i]=void 0,o}}return t};return n(t,0)},isAsyncFn:k,isThenable:t=>t&&(f(t)||h(t))&&h(t.then)&&h(t.catch)};function M(t,e,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o)}B.inherits(M,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const U=M.prototype,D={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{D[t]={value:t}})),Object.defineProperties(M,D),Object.defineProperty(U,"isAxiosError",{value:!0}),M.from=(t,e,n,i,o,r)=>{const s=Object.create(U);return B.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),M.call(s,t.message,e,n,i,o),s.cause=t,s.name=t.name,r&&Object.assign(s,r),s};const F=M;function j(t){return B.isPlainObject(t)||B.isArray(t)}function z(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function q(t,e,n){return t?t.concat(e).map((function(t,e){return t=z(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const W=B.toFlatObject(B,{},null,(function(t){return/^is[A-Z]/.test(t)})),$=function(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!B.isUndefined(e[t])}))).metaTokens,o=n.visitor||c,r=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(o))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(B.isDate(t))return t.toISOString();if(!a&&B.isBlob(t))throw new F("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(t)||B.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,o){let a=t;if(t&&!o&&"object"==typeof t)if(B.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(B.isArray(t)&&function(t){return B.isArray(t)&&!t.some(j)}(t)||(B.isFileList(t)||B.endsWith(n,"[]"))&&(a=B.toArray(t)))return n=z(n),a.forEach((function(t,i){!B.isUndefined(t)&&null!==t&&e.append(!0===s?q([n],i,r):null===s?n:n+"[]",l(t))})),!1;return!!j(t)||(e.append(q(o,n,r),l(t)),!1)}const d=[],u=Object.assign(W,{defaultVisitor:c,convertValue:l,isVisitable:j});if(!B.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!B.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+i.join("."));d.push(n),B.forEach(n,(function(n,r){!0===(!(B.isUndefined(n)||null===n)&&o.call(e,n,B.isString(r)?r.trim():r,i,u))&&t(n,i?i.concat(r):[r])})),d.pop()}}(t),e};function H(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function J(t,e){this._pairs=[],t&&$(t,this,e)}const V=J.prototype;V.append=function(t,e){this._pairs.push([t,e])},V.toString=function(t){const e=t?function(e){return t.call(this,e,H)}:H;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Y=J;function G(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function K(t,e,n){if(!e)return t;const i=n&&n.encode||G,o=n&&n.serialize;let r;if(r=o?o(e,n):B.isURLSearchParams(e)?e.toString():new Y(e,n).toString(i),r){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}const Q=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){B.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},X={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Y,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},tt=function(t){function e(t,n,i,o){let r=t[o++];const s=Number.isFinite(+r),a=o>=t.length;return r=!r&&B.isArray(i)?i.length:r,a?(B.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!s):(i[r]&&B.isObject(i[r])||(i[r]=[]),e(t,n,i[r],o)&&B.isArray(i[r])&&(i[r]=function(t){const e={},n=Object.keys(t);let i;const o=n.length;let r;for(i=0;i<o;i++)r=n[i],e[r]=t[r];return e}(i[r])),!s)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,((t,i)=>{e(function(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),i,n,0)})),n}return null},et={"Content-Type":void 0},nt={transitional:X,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,o=B.isObject(t);if(o&&B.isHTMLForm(t)&&(t=new FormData(t)),B.isFormData(t))return i&&i?JSON.stringify(tt(t)):t;if(B.isArrayBuffer(t)||B.isBuffer(t)||B.isStream(t)||B.isFile(t)||B.isBlob(t))return t;if(B.isArrayBufferView(t))return t.buffer;if(B.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let r;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return $(t,new Z.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return Z.isNode&&B.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((r=B.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return $(r?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||i?(e.setContentType("application/json",!1),function(t,e,n){if(B.isString(t))try{return(0,JSON.parse)(t),B.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||nt.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(t&&B.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw F.from(t,F.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Z.classes.FormData,Blob:Z.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};B.forEach(["delete","get","head"],(function(t){nt.headers[t]={}})),B.forEach(["post","put","patch"],(function(t){nt.headers[t]=B.merge(et)}));const it=nt,ot=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rt=Symbol("internals");function st(t){return t&&String(t).trim().toLowerCase()}function at(t){return!1===t||null==t?t:B.isArray(t)?t.map(at):String(t)}function lt(t,e,n,i,o){return B.isFunction(i)?i.call(this,e,n):(o&&(e=n),B.isString(e)?B.isString(i)?-1!==e.indexOf(i):B.isRegExp(i)?i.test(e):void 0:void 0)}class ct{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function o(t,e,n){const o=st(e);if(!o)throw new Error("header name must be a non-empty string");const r=B.findKey(i,o);(!r||void 0===i[r]||!0===n||void 0===n&&!1!==i[r])&&(i[r||e]=at(t))}const r=(t,e)=>B.forEach(t,((t,n)=>o(t,n,e)));return B.isPlainObject(t)||t instanceof this.constructor?r(t,e):B.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?r((t=>{const e={};let n,i,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),n=t.substring(0,o).trim().toLowerCase(),i=t.substring(o+1).trim(),!n||e[n]&&ot[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)})),e})(t),e):null!=t&&o(e,t,n),this}get(t,e){if(t=st(t)){const n=B.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(B.isFunction(e))return e.call(this,t,n);if(B.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=st(t)){const n=B.findKey(this,t);return!(!n||void 0===this[n]||e&&!lt(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function o(t){if(t=st(t)){const o=B.findKey(n,t);!o||e&&!lt(0,n[o],o,e)||(delete n[o],i=!0)}}return B.isArray(t)?t.forEach(o):o(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const o=e[n];t&&!lt(0,this[o],o,t,!0)||(delete this[o],i=!0)}return i}normalize(t){const e=this,n={};return B.forEach(this,((i,o)=>{const r=B.findKey(n,o);if(r)return e[r]=at(i),void delete e[o];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete e[o],e[s]=at(i),n[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return B.forEach(this,((n,i)=>{null!=n&&!1!==n&&(e[i]=t&&B.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[rt]=this[rt]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=st(t);e[i]||(function(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach((i=>{Object.defineProperty(t,i+n,{value:function(t,n,o){return this[i].call(this,e,t,n,o)},configurable:!0})}))}(n,t),e[i]=!0)}return B.isArray(t)?t.forEach(i):i(t),this}}ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),B.freezeMethods(ct.prototype),B.freezeMethods(ct);const dt=ct;function ut(t,e){const n=this||it,i=e||n,o=dt.from(i.headers);let r=i.data;return B.forEach(t,(function(t){r=t.call(n,r,o.normalize(),e?e.status:void 0)})),o.normalize(),r}function ht(t){return!(!t||!t.__CANCEL__)}function pt(t,e,n){F.call(this,null==t?"canceled":t,F.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(pt,F,{__CANCEL__:!0});const ft=pt,mt=Z.isStandardBrowserEnv?{write:function(t,e,n,i,o,r){const s=[];s.push(t+"="+encodeURIComponent(e)),B.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),B.isString(i)&&s.push("path="+i),B.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function gt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const yt=Z.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function i(n){let i=n;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(t){const e=B.isString(t)?i(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};function vt(t,e){let n=0;const i=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let o,r=0,s=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=i[s];o||(o=l),n[r]=a,i[r]=l;let d=s,u=0;for(;d!==r;)u+=n[d++],d%=t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),l-o<e)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return o=>{const r=o.loaded,s=o.lengthComputable?o.total:void 0,a=r-n,l=i(a);n=r;const c={loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:o};c[e?"download":"upload"]=!0,t(c)}}const bt={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let i=t.data;const o=dt.from(t.headers).normalize(),r=t.responseType;let s;function a(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}B.isFormData(i)&&(Z.isStandardBrowserEnv||Z.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(e+":"+n))}const c=gt(t.baseURL,t.url);function d(){if(!l)return;const i=dt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new F("Request failed with status code "+n.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),a()}),(function(t){n(t),a()}),{data:r&&"text"!==r&&"json"!==r?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:i,config:t,request:l}),l=null}if(l.open(t.method.toUpperCase(),K(c,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(d)},l.onabort=function(){l&&(n(new F("Request aborted",F.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new F("Network Error",F.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const i=t.transitional||X;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new F(e,i.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,t,l)),l=null},Z.isStandardBrowserEnv){const e=(t.withCredentials||yt(c))&&t.xsrfCookieName&&mt.read(t.xsrfCookieName);e&&o.set(t.xsrfHeaderName,e)}void 0===i&&o.setContentType(null),"setRequestHeader"in l&&B.forEach(o.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),B.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),r&&"json"!==r&&(l.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",vt(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",vt(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{l&&(n(!e||e.type?new ft(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const u=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(c);u&&-1===Z.protocols.indexOf(u)?n(new F("Unsupported protocol "+u+":",F.ERR_BAD_REQUEST,t)):l.send(i||null)}))}};B.forEach(bt,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));function Et(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ft(null,t)}function wt(t){return Et(t),t.headers=dt.from(t.headers),t.data=ut.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),(t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let n,i;for(let o=0;o<e&&(n=t[o],!(i=B.isString(n)?bt[n.toLowerCase()]:n));o++);if(!i){if(!1===i)throw new F(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(B.hasOwnProp(bt,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!B.isFunction(i))throw new TypeError("adapter is not a function");return i})(t.adapter||it.adapter)(t).then((function(e){return Et(t),e.data=ut.call(t,t.transformResponse,e),e.headers=dt.from(e.headers),e}),(function(e){return ht(e)||(Et(t),e&&e.response&&(e.response.data=ut.call(t,t.transformResponse,e.response),e.response.headers=dt.from(e.response.headers))),Promise.reject(e)}))}const St=t=>t instanceof dt?t.toJSON():t;function Lt(t,e){e=e||{};const n={};function i(t,e,n){return B.isPlainObject(t)&&B.isPlainObject(e)?B.merge.call({caseless:n},t,e):B.isPlainObject(e)?B.merge({},e):B.isArray(e)?e.slice():e}function o(t,e,n){return B.isUndefined(e)?B.isUndefined(t)?void 0:i(void 0,t,n):i(t,e,n)}function r(t,e){if(!B.isUndefined(e))return i(void 0,e)}function s(t,e){return B.isUndefined(e)?B.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function a(n,o,r){return r in e?i(n,o):r in t?i(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>o(St(t),St(e),!0)};return B.forEach(Object.keys(Object.assign({},t,e)),(function(i){const r=l[i]||o,s=r(t[i],e[i],i);B.isUndefined(s)&&r!==a||(n[i]=s)})),n}const Ot={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Ot[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const xt={};Ot.transitional=function(t,e,n){function i(t,e){return"[Axios v1.4.0] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,o,r)=>{if(!1===t)throw new F(i(o," has been removed"+(e?" in "+e:"")),F.ERR_DEPRECATED);return e&&!xt[o]&&(xt[o]=!0,console.warn(i(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,r)}};const Tt={assertOptions:function(t,e,n){if("object"!=typeof t)throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let o=i.length;for(;o-- >0;){const r=i[o],s=e[r];if(s){const e=t[r],n=void 0===e||s(e,r,t);if(!0!==n)throw new F("option "+r+" must be "+n,F.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new F("Unknown option "+r,F.ERR_BAD_OPTION)}},validators:Ot},At=Tt.validators;class Ct{constructor(t){this.defaults=t,this.interceptors={request:new Q,response:new Q}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Lt(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:o}=e;let r;void 0!==n&&Tt.assertOptions(n,{silentJSONParsing:At.transitional(At.boolean),forcedJSONParsing:At.transitional(At.boolean),clarifyTimeoutError:At.transitional(At.boolean)},!1),null!=i&&(B.isFunction(i)?e.paramsSerializer={serialize:i}:Tt.assertOptions(i,{encode:At.function,serialize:At.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),r=o&&B.merge(o.common,o[e.method]),r&&B.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete o[t]})),e.headers=dt.concat(r,o);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let d,u=0;if(!a){const t=[wt.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,l),d=t.length,c=Promise.resolve(e);u<d;)c=c.then(t[u++],t[u++]);return c}d=s.length;let h=e;for(u=0;u<d;){const t=s[u++],e=s[u++];try{h=t(h)}catch(t){e.call(this,t);break}}try{c=wt.call(this,h)}catch(t){return Promise.reject(t)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(t){return K(gt((t=Lt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}B.forEach(["delete","get","head","options"],(function(t){Ct.prototype[t]=function(e,n){return this.request(Lt(n||{},{method:t,url:e,data:(n||{}).data}))}})),B.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,o){return this.request(Lt(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Ct.prototype[t]=e(),Ct.prototype[t+"Form"]=e(!0)}));const _t=Ct;class Nt{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const i=new Promise((t=>{n.subscribe(t),e=t})).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t,i,o){n.reason||(n.reason=new ft(t,i,o),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Nt((function(e){t=e})),cancel:t}}}const Rt=Nt,It={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(It).forEach((([t,e])=>{It[e]=t}));const Pt=It,kt=function e(n){const i=new _t(n),o=t(_t.prototype.request,i);return B.extend(o,_t.prototype,i,{allOwnKeys:!0}),B.extend(o,i,null,{allOwnKeys:!0}),o.create=function(t){return e(Lt(n,t))},o}(it);kt.Axios=_t,kt.CanceledError=ft,kt.CancelToken=Rt,kt.isCancel=ht,kt.VERSION="1.4.0",kt.toFormData=$,kt.AxiosError=F,kt.Cancel=kt.CanceledError,kt.all=function(t){return Promise.all(t)},kt.spread=function(t){return function(e){return t.apply(null,e)}},kt.isAxiosError=function(t){return B.isObject(t)&&!0===t.isAxiosError},kt.mergeConfig=Lt,kt.AxiosHeaders=dt,kt.formToJSON=t=>tt(B.isHTMLForm(t)?new FormData(t):t),kt.HttpStatusCode=Pt,kt.default=kt;const Bt=kt;Bt.defaults.withCredentials=!0;const Mt=new class{#t;#e;constructor(){this.#t="/api/notes",this.#e="/api/users"}getAllNotes=async()=>await Bt.get(this.#t);addNote=async t=>Bt.post(this.#t,t);getNoteById=async t=>await Bt.get(`${this.#t}/${t}`);deleteNote=async t=>Bt.delete(`${this.#t}/${t}`);updateNote=async(t,e)=>Bt.put(`${this.#t}/${t}`,e,{headers:{"Access-Control-Request-Method":"PUT"}});getLoggedInUser=async()=>Bt.get(`${this.#e}/profile`);authenticateUser=async t=>Bt.post(`${this.#e}/auth`,t);logout=async()=>Bt.post(`${this.#e}/logout`);registerUser=async t=>Bt.post(`${this.#e}/register`,t);updateUser=async t=>Bt.put(`${this.#e}/profile`,t)};var Ut=n(751),Dt=n.n(Ut);const Ft=()=>{document.querySelector(".loading").classList.add("show-snipper")},jt=()=>{document.querySelector(".loading").classList.remove("show-snipper")},zt={pinnedArr:[],unpinnedArr:[]},qt=class{#n;#i;#o;#r;#s;constructor(){this.#s=document.querySelector("#no-notes"),this.#o=document.querySelector(".pinned-notes"),this.#n=document.querySelector(".others-notes"),this.#i=document.querySelector(".notes-container"),this.#r=document.querySelectorAll(".notes-tag"),this.getAllNotes(),this.addEventListeners()}addEventListeners=()=>{this.#i.addEventListener("click",(t=>{t.target.closest(".right-options")?(this.deleteNote(t.target.closest(".note-card").dataset.id),t.stopImmediatePropagation()):t.target.closest(".pin-note")&&(this.pinNote(t.target,t.target.closest(".note-card").dataset.id),t.stopImmediatePropagation())}))};getAllNotes=async()=>{try{const t=(await Mt.getAllNotes()).data.data;zt.unpinnedArr=t.filter((t=>!t.pinned)),zt.pinnedArr=t.filter((t=>t.pinned)),this.sortArrayByUpdatedAt(zt.unpinnedArr),this.sortArrayByUpdatedAt(zt.unpinnedArr),this.render(),jt()}catch(t){console.log(t)}};sortArrayByUpdatedAt=t=>{t.sort(((t,e)=>new Date(e.updatedAt)-new Date(t.updatedAt)))};addNoteToList=t=>{t.pinned?zt.pinnedArr.unshift(t):zt.unpinnedArr.unshift(t),this.render()};updateNotesList=t=>{const e=[...zt.unpinnedArr,...zt.pinnedArr],n=e.findIndex((e=>e._id===t._id));t.pinned===e[n].pinned?t.pinned?(zt.pinnedArr.splice(n-zt.unpinnedArr.length,1),zt.pinnedArr.unshift(t)):(zt.unpinnedArr.splice(n,1),zt.unpinnedArr.unshift(t)):t.pinned?(zt.unpinnedArr.splice(n,1),zt.pinnedArr.unshift(t)):(zt.pinnedArr.splice(n-zt.unpinnedArr.length,1),zt.unpinnedArr.unshift(t)),this.render()};deleteNote=async t=>{this.deleteNoteFromList(t),this.render(),await Mt.deleteNote(t)};deleteNoteFromList=t=>{const e=[...zt.pinnedArr,...zt.unpinnedArr].findIndex((e=>e._id===t));e<zt.pinnedArr.length?zt.pinnedArr.splice(e,1):zt.unpinnedArr.splice(e-zt.pinnedArr.length,1)};pinNote=async(t,e)=>{const n={};"ri-pushpin-2-line"===t.className?t.className="ri-pushpin-2-fill":t.className="ri-pushpin-2-line",[...zt.unpinnedArr,...zt.pinnedArr].forEach(((t,n)=>{let i;t._id===e&&(i=t,i.pinned?(i.pinned=!1,zt.pinnedArr.splice(n-zt.unpinnedArr.length,1),zt.unpinnedArr.unshift(i)):(i.pinned=!0,zt.unpinnedArr.splice(n,1),zt.pinnedArr.unshift(i)))})),this.render();const i=(await Mt.getNoteById(e)).data.data;n.pinned=!i.pinned,await Mt.updateNote(e,n)};renderMasonryLayout=()=>{document.querySelectorAll(".grid").forEach((t=>{new(Dt())(t,{itemSelector:".grid-item",horizontalOrder:!0,fitWidth:!0,originLeft:!0})}))};render=()=>{0===[...zt.unpinnedArr,...zt.pinnedArr].length?(this.#r.forEach((t=>t.style.display="none")),Array.of(this.#o,this.#n).forEach((t=>{t.innerHTML="",t.style.height="0px"})),this.#s.style.display="block"):(this.#s.style.display="none",0===zt.pinnedArr.length?(this.#r.forEach((t=>{t.style.display="none"})),this.#o.style.display="none"):0!==zt.pinnedArr.length&&(this.#r.forEach(((t,e)=>{1===e&&0===zt.unpinnedArr.length?t.style.display="none":t.style.display="block"})),this.#o.style.display="block",this.renderPinnedNotes()),this.renderOtherNotes(),this.renderMasonryLayout())};renderPinnedNotes=()=>{this.#o.innerHTML=zt.pinnedArr.map((t=>this.renderInnerHtml(t))).join("")};renderOtherNotes=()=>{this.#n.innerHTML=zt.unpinnedArr.map((t=>this.renderInnerHtml(t))).join("")};renderInnerHtml=t=>`\n        <div data-id="${t._id}" class="note-card grid-item flex ${"default"===t.background?"show-border":""} color-${t.background} ${"light"===localStorage.getItem("darkLightMode")?"":"dark"}">\n            <div class="note-content">\n                <h4 class="note-title">${t.title?t.title:""}</h4>\n                <p class="note-details">${t.note}</p>\n            </div>\n            <div class="bottom-icons flex">\n                <ul class="left-options flex">\n                    <li title="Pin note" class="pin-note"><i class="ri-pushpin-2-${t.pinned?"fill":"line"}"></i></li>\n                </ul>\n                <div  title="Delete note" class="right-options">\n                    <i class="ri-delete-bin-7-line"></i>\n                </div>\n            </div>\n        </div>\n        `},Wt=n.p+"c34d90f2878a544639d3.jpg",$t=(t,e)=>{const n=document.createElement("div");n.className="error-msg",n.innerText=t,e.appendChild(n)},Ht=t=>{t.querySelector(".error-msg")&&t.querySelector(".error-msg").remove()},Jt=new class{formatDate=(t,e)=>new Date("createdAt"===e?t.createdAt:t.updatedAt).toDateString().split(" ").splice(1,2).reverse().join(" ");render=(t,e)=>{const n=!t&&this.formatDate(e,"createdAt"),i=`<div title="${t?"":"Created "+this.formatDate(e,"")}" class="timestamp">${t?"":"Edited "+n}</div>`,o=`<i class="pin-note-pushpin ri-pushpin-2-${t?"line":e.pinned?"fill":"line"}"></i>`;return`\n                <div\n                    id="note-title"\n                    contenteditable="true"\n                    placeholder="Title"\n                >${t?"":e.title}</div>\n                <div\n                    id="note-desc"\n                    contenteditable="true"\n                    placeholder="Take a note..."\n                >${t?"":e.note}</div>\n                <div class="note-bottom flex">\n                    <ul class="note-option flex">\n                        <li  title="Pin note" class="pin-note flex">${o}</li>\n                        <li  title="Background color" class="color-palette-icon  flex">\n                            <i class="ri-palette-line"></i>\n                        </li>\n                    </ul>\n                    ${i}\n                    <ul class="btn-actions flex">\n                        <li id="${t?"save":"update"}-note">${t?"Save":"Update"}</li>\n                    </ul>\n                </div>\n        `}},Vt=class{#a;#l;#c;#d;#i;#u;constructor(){this.#a=document.querySelector("#note-title"),this.#l=document.querySelector("#note-desc"),this.#c=document.querySelector(".btn-actions").firstElementChild,this.#u=document.querySelector(".note-input"),this.#d=new qt,this.#i=document.querySelector(".notes-container"),this.addEventListeners()}addEventListeners=()=>{this.#c.addEventListener("click","save-note"===this.#c.id?this.addNote.bind(this):this.updateNote.bind(this)),this.#i.addEventListener("click",(t=>{t.target.closest(".right-options")&&(this.deleteNote(t.target.closest(".note-card").dataset.id),t.stopImmediatePropagation())}))};deleteNote=async t=>{this.deleteNoteFromList(t),await Mt.deleteNote(t),this.render()};deleteNoteFromList=t=>{const e=[...this.#d.pinnedNotesList,...this.#d.otherNotesList].findIndex((e=>e._id===t));e<this.#d.pinnedNotesList.length?this.#d.pinnedNotesList.splice(e,1):this.#d.otherNotesList.splice(e-this.#d.pinnedNotesList.length,1)};addNote=async()=>{const t=this.#u.querySelector(".pin-note-pushpin"),e={title:this.#a.innerText.trim(),note:this.#l.innerText.trim(),username:"default",pinned:t.classList.contains("ri-pushpin-2-fill"),background:`${Array.from(this.#u.classList).find((t=>t.includes("color-"))).replace("color-","")}`};if(""===e)return;const n=(await Mt.addNote(e)).data.data;this.#d.addNoteToList(n),document.dispatchEvent(new Event("close-modal"))};updateNote=async t=>{const e=t.target.closest(".note-modal").dataset.id,n=this.#u.querySelector(".pin-note-pushpin"),i={title:this.#a.innerText.trim(),note:this.#l.innerText.trim(),username:"default",pinned:n.classList.contains("ri-pushpin-2-fill"),background:`${Array.from(t.target.closest(".note-modal").classList).find((t=>t.includes("color-"))).replace("color-","")}`};if(""===i)return;const o=(await Mt.updateNote(e,i)).data.data;this.#d.updateNotesList(o),document.dispatchEvent(new Event("close-modal"))}},Yt=class{#h;#p;#f;#m;#g;constructor(){this.#g=["default","coral","peach","sand","mint","sage","fog","storm","dusk","blossom","clay","chalk"],this.createColorPaletteModal(),this.#p=document.querySelector(".color-palette-icon.flex"),this.#m=document.querySelector(".note-input"),this.addEventListeners()}addEventListeners=()=>{this.#p.addEventListener("click",this.openClosePalette.bind(this)),document.addEventListener("close-color-modal",this.openClosePalette.bind(this)),document.addEventListener("click",this.openClosePalette.bind(this))};createColorPaletteModal=()=>{this.#h=document.createElement("div"),this.#h.className="modal-color-palette flex",this.render()};openClosePalette=t=>{t.target.closest(".color-palette-icon")&&this.#m&&(this.#h.classList.contains("show")?(this.#h.classList.remove("show"),this.#h.remove()):(this.#h.classList.add("show"),this.#m.appendChild(this.#h),this.#f=document.getElementsByName("colors"),this.listenForColorInputChange()),t.stopImmediatePropagation())};setBackgroundColor=t=>{this.#m=t.target.closest(".note-input"),"default"===t.target.id?this.#m.classList.add("show-border"):this.#m.classList.remove("show-border");const e=Array.from(this.#m.classList).find((t=>t.includes("color-")));this.#m.classList.remove(e),this.#m.classList.add(`color-${t.target.id}`),t.stopImmediatePropagation()};listenForColorInputChange=()=>{this.#f=document.getElementsByName("color"),this.#f.forEach((t=>t.addEventListener("click",this.setBackgroundColor.bind(this))))};render=()=>{const t=Array.from(document.querySelector(".note-input").classList).find((t=>t.includes("color-"))).replace("color-","");this.#h.innerHTML=this.#g.map((e=>`\n                <div class="color-container color-${e} ${"light"===localStorage.getItem("darkLightMode")?"":"dark"}">\n                    <input\n                        type="radio"\n                        id="${e}"\n                        value="eb6e82"\n                        name="color"\n                        ${e===t?"checked":""}\n                    />\n                    <label title="${e}" for="${e}"></label>\n                </div>\n                `)).join("")}},Gt={authenticate:async()=>await Mt.authenticateUser(),render:()=>'<div class="login flex">\n        <div class="app-heading">Notes</div>\n        <div class="form-container">\n            <form>\n                <div class="form-control">\n                    <label for="email">Email</label>\n                    <input class="login-input" type="text" name="email" id="email" required/>\n                </div>\n                <div class="form-control">\n                    <label for="password">Password</label>\n                    <input class="login-input" type="password" name="password" id="password" required/>\n                </div>\n                <input id="form-submits" type="submit" value="login" />\n            </form>\n            <div class="sign-up-text">\n                Dont have an account? <a id="redirect-to-signup">Sign up</a>\n        </div>\n    </div>\n    <div class="loading"></div>',renderSignUp:()=>'<div class="login flex">\n        <div class="app-heading">Notes</div>\n        <div class="form-container">\n            <form action="#">\n                <div class="form-control">\n                    <label for="username">Display name</label>\n                    <input class="login-input" type="text" name="username" id="username required" />\n                </div>\n                <div class="form-control">\n                    <label for="email">Email</label>\n                    <input class="login-input" type="text" name="email" id="email" required />\n                </div>\n                <div class="form-control">\n                    <label for="password">Password</label>\n                    <input class="login-input" type="password" name="password" id="password" required />\n                </div>\n                <input id="form-submits" type="submit" value="Sign up" />\n            </form>\n            <div class="sign-up-text">\n                Already have an account? <a id="redirect-to-login">Login</a>\n        </div>\n    </div>\n    <div class="loading"></div>',showSignUpScreen:()=>{document.body.innerHTML=Gt.renderSignUp();const t=document.querySelector("form"),e=document.querySelector("#email").parentElement;t.addEventListener("submit",(async n=>{n.preventDefault(),Ht(e);const i=new FormData(t),o=i.get("email");if(/^\S+@\S+\.\S+$/.test(o))try{await Mt.registerUser({username:i.get("username"),email:o,password:i.get("password")}),Ft(),document.location.hash="/"}catch(t){409===t.response.status?$t(`${o} already exists.`,e):$t("Internal server Error",e)}else $t(`${o} is not a valid email address.`,e)})),document.querySelector("#redirect-to-login").addEventListener("click",Gt.showLoginScreen)},showLoginScreen:()=>{document.body.innerHTML=Gt.render(),Gt.afterRender()},afterRender:()=>{const t=document.querySelector("form"),e=document.querySelector("#password").parentElement;t.addEventListener("submit",(async n=>{n.preventDefault(),Ht(e);const i=new FormData(t);try{await Mt.authenticateUser({email:i.get("email"),password:i.get("password")}),Ft(),document.location.hash="/"}catch(t){401===t.response.status?$t("Invalid email or password.",e):$t("Internal server Error",e)}})),document.querySelector("#redirect-to-signup").addEventListener("click",Gt.showSignUpScreen)}},Kt={render:()=>"<div>not found</div>"},Qt={"/":{render:()=>`\x3c!-- modal for displaying user info --\x3e\n        <div class="user-modal flex hidden"></div>\n\n        <div class="modal modal-overlay flex"></div>\n\n        <nav class="top-nav flex">\n            <ul class="left-nav flex">\n                <li class="app-value flex">\n                    <h3>Notes</h3>\n                </li>\n            </ul>\n            <ul class="right-nav flex">\n                <li title="toggle-theme" class="dark-light-toggle flex">\n                    <i class="ri-sun-fill"></i>\n                </li>\n                <li title="profile" class="profile-menu flex">\n                    <img src=${Wt} id="profile-pic" alt="profile-picture" />\n                </li>\n            </ul>\n        </nav>\n        <section class="add-note flex">\n            <div id="note-input-before-expand" class="note-input before-expand">\n                Take a note...\n            </div>\n        </section>\n\n        <section class="notes-container">\n            <p class="notes-tag">pinned</p>\n            <div class="pinned-notes grid"></div>\n            <p class="notes-tag">others</p>\n            <div class="others-notes grid"></div>\n            <div id="no-notes">\n                Start capturing your thoughts and ideas by creating your first note!\n            </div>\n        </section>\n\n        <div class="loading"></div>`,afterRender:()=>{new qt,new class{#y;#v;#b;#E;#w;constructor(){this.#E={},this.#y=document.querySelector(".dark-light-toggle"),this.#v=document.querySelector("#profile-pic"),this.#b=document.querySelector(".user-modal"),this.#w=document.querySelector(".modal-overlay"),this.getLoggedInUser(),this.addEventListener()}addEventListener=()=>{this.#y.addEventListener("click",this.toggleDarkMode.bind(this)),this.#v.addEventListener("click",this.openUserModal),document.addEventListener("click",this.closeUserModal)};getLoggedInUser=async()=>{try{const t=(await Mt.getLoggedInUser()).data;this.#E={_id:t._id,email:t.email,username:t.username,image:t.image}}catch(t){console.log(t)}};setProfilePicture=()=>{this.#v.src=this.#E.image};openUserModal=async()=>{this.#b.classList.toggle("hidden"),this.#b.innerHTML=`\n            <p class="email">${this.#E.email}</p>\n            <img pfp src="${Wt}" alt="" />\n            <p class="displayName">Hi, ${this.#E.username}!</p>\n            <div class="profile-options flex">\n                <a id="edit-profile" class="flex">\n                    <i class="ri-pencil-line"></i>\n                    <p>Edit profile</p>\n                </a>\n                <a id="logout" class="flex">\n                    <i class="ri-logout-box-r-line"></i>\n                    <p>Sign out</p>\n                </a>\n            </div>\n            \n            `,document.querySelector("#logout").addEventListener("click",(async()=>{Ft();try{await Mt.logout(),jt(),document.location.hash="/#/login"}catch(t){console.log("Something went wrong")}})),document.querySelector("#edit-profile").addEventListener("click",this.openEditProfileModal)};openEditProfileModal=()=>{this.#w.style.display="flex";const t=document.createElement("div");t.classList.add("form-container","edit-profile-form"),t.innerHTML=`\n        <form action="#">\n            <h3>Edit your profile</h3>\n            <div class="form-header">Leave the fields blank which you don't want to update</div>\n            <div class="form-control">\n                <label for="username">Display name</label>\n                <input type="text" name="username" id="username" value="${this.#E.username}"/>\n            </div>\n            <div class="form-control">\n                <label for="password">New Password</label>\n                <input type="password" name="password" id="password" value=''/>\n            </div>\n            <input id="form-submits" type="submit" value="submit" />\n        </form>`,this.#w.appendChild(t);const e=document.querySelector("form"),n=document.querySelector("#password").parentElement;this.submitEditProfileForm(e,n),document.addEventListener("click",(t=>{t.target===this.#w&&this.closeEditProfileModal()}))};submitEditProfileForm=(t,e)=>{t.addEventListener("submit",(async n=>{n.preventDefault(),Ht(e);const i=new FormData(t),o={...{}&&{_id:this.#E._id},...""!==i.get("username")&&{username:i.get("username")},...""!==i.get("password")&&{password:i.get("password")}};if(""===i.get("username")&&""===i.get("password"))return void $t("Please enter at least one field.",e);Ft();const r=await Mt.updateUser(o);o.password&&(await Mt.logout(),jt(),document.location.hash="/login"),this.closeEditProfileModal(),this.#E.username=r.data.username}))};closeEditProfileModal=()=>{this.#w.style.display="none",this.#w.innerHTML=""};closeUserModal=t=>{t.target.closest(".user-modal")||t.target===this.#v||this.#b.classList.add("hidden")};toggleDarkMode=()=>{document.querySelectorAll(".note-card").forEach((t=>t.classList.toggle("dark"))),document.documentElement.classList.toggle("dark"),document.documentElement.classList.contains("dark")?(this.#y.firstElementChild.className="ri-sun-fill",localStorage.setItem("darkLightMode","dark")):(this.#y.firstElementChild.className="ri-moon-fill",localStorage.setItem("darkLightMode","light"))};setMode=()=>{"dark"===localStorage.getItem("darkLightMode")&&document.documentElement.classList.add("dark")}},new class{#i;#w;#S;#L;constructor(){this.#S=document.querySelector("#note-input-before-expand"),this.#w=document.querySelector(".modal-overlay"),this.#i=document.querySelector(".notes-container"),this.addEventListeners()}addEventListeners=()=>{this.#i.addEventListener("click",this.openModal.bind(this,!1)),this.#S.addEventListener("click",this.openModal.bind(this,!0)),document.addEventListener("close-modal",this.closeModal.bind(this)),this.#w.addEventListener("click",(t=>{t.target===this.#w&&this.closeModal()}))};openModal=async(t,e)=>{if(t)this.createFormInput(t,null),this.#w.appendChild(this.#L),this.#w.style.display="flex",this.listenForPinnedIconClick(),new Vt,new Yt;else if(e.target.offsetParent.classList.contains("note-card")&&!e.target.parentElement.classList.contains("pin-note")||e.target===this.#S){const n=(await Mt.getNoteById(e.target.offsetParent.dataset.id)).data.data;this.createFormInput(t,n),this.#w.appendChild(this.#L),this.#w.style.display="flex",this.#L.classList.replace("default",`color-${n.background}`),this.#L.dataset.id=e.target.offsetParent.dataset.id,this.listenForPinnedIconClick(),new Vt,new Yt}};createFormInput=(t,e)=>{this.#L=document.createElement("div"),this.#L.className=`note-modal note-input after-expand ${e&&"default"===e.background||t?"show-border":""} color-${t?"default":e.background}`,"dark"===localStorage.getItem("darkLightMode")&&this.#L.classList.add("dark"),this.#L.innerHTML=Jt.render(t,e)};listenForPinnedIconClick=()=>{document.querySelector(".note-modal").addEventListener("click",(t=>{if(t.target.className.includes("pin-note")){const e=t.target.closest(".pin-note").firstElementChild;e.classList.contains("ri-pushpin-2-line")?e.classList.replace("ri-pushpin-2-line","ri-pushpin-2-fill"):e.classList.replace("ri-pushpin-2-fill","ri-pushpin-2-line")}}))};closeModal=()=>{this.#L&&(this.#L.remove(),this.#w.style.display="none")}}}},"/login":Gt},Xt=async()=>{try{await Mt.getLoggedInUser()&&(document.location.hash="/")}catch(t){document.location.hash="/login"}const t=document.location.hash.toLowerCase().split("/")[1],e=t?`/${t}`:"/",n=Qt[e]?Qt[e]:Kt;document.getElementsByTagName("body")[0].innerHTML=n.render(),n.afterRender()};window.addEventListener("DOMContentLoaded",(()=>{"dark"===localStorage.getItem("darkLightMode")&&document.documentElement.classList.add("dark")})),window.addEventListener("load",Xt),window.addEventListener("hashchange",Xt)})()})();